(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d566d08"],{"106c":function(t,e,i){},2430:function(t,e,i){"use strict";var a=i("106c"),r=i.n(a);r.a},"692b":function(t,e,i){"use strict";var a=i("7aa3"),r=i.n(a);r.a},"7aa3":function(t,e,i){},c296:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"courseChapterContent"}},[i("span",{staticClass:"writeChapterTitle"},[t._v(t._s(t.chapter.label))]),i("quill-wriete-chapter",{ref:"quillWriteChapterRef",on:{finishWriteChapter:t.writeChapterFinish,finshUpdateChapter:t.updateChapterFinsh}})],1)},r=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"quillWriteChapter"}},[t.ispreview?t._e():i("quill-editor",{staticClass:"chapterWrite",attrs:{options:t.editorOption},model:{value:t.chapterContent,callback:function(e){t.chapterContent=e},expression:"chapterContent"}}),t.ispreview?i("div",{staticClass:"chapterContentLine"}):t._e(),t.ispreview?i("div",{domProps:{innerHTML:t._s(t.chapterContent)}}):t._e(),i("div",{staticClass:"chapterBtn"},[t.isNewWrite?i("el-button",{attrs:{type:"success",size:"mini",disabled:t.isUpdataChapter},on:{click:t.writeChapter}},[t._v("完成new")]):t._e(),t.isUpDate?i("el-button",{attrs:{type:"success",size:"mini",disabled:t.isUpdataChapter},on:{click:t.updateWriteChapter}},[t._v("完成update")]):t._e(),t.isUpdateOrPreView?i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.previewContent}},[t._v("预览")]):t._e(),t.isUpdateOrPreView?t._e():i("el-button",{attrs:{size:"mini",type:"info"},on:{click:t.previewUpdateContent}},[t._v("修改")])],1)],1)},s=[],p=(i("a753"),i("8096"),i("14e1"),i("953d")),c=i("cf9e"),o={name:"quillWrieteChapter",components:{quillEditor:p["quillEditor"]},data:function(){return{chapterContent:"",chapterContentTemp:"",isNewWrite:!1,isUpDate:!1,ispreview:!1,isUpdateOrPreView:!0,editorOption:{placeholder:"编写课程内容"}}},created:function(){this.getChapterContent()},computed:{isUpdataChapter:function(){return this.chapterContent===this.chapterContentTemp}},methods:{getChapterContent:function(){var t=this;Object(c["a"])({courseiid:this.$route.params.cciid,chapteriid:JSON.parse(window.sessionStorage.getItem("chapter")).iid}).then((function(e){200===e.data.status?(t.chapterContent=e.data.data,t.chapterContentTemp=e.data.data,t.isUpDate=!0):207===e.data.status?(t.chapterContent=e.data.data,t.chapterContentTemp=e.data.data,t.isNewWrite=!0):t.$message.error("章节内容获取失败")}))},writeChapter:function(){this.$emit("finishWriteChapter",this.chapterContent)},updateWriteChapter:function(){this.$emit("finshUpdateChapter",this.chapterContent)},restChapterData:function(){Object.assign(this.$data,this.$options.data())},previewContent:function(){this.ispreview=!0,this.isUpdateOrPreView=!1},previewUpdateContent:function(){this.ispreview=!1,this.isUpdateOrPreView=!0}}},h=o,u=(i("2430"),i("2877")),d=Object(u["a"])(h,n,s,!1,null,null,null),C=d.exports,l={name:"courseChapterContent",components:{quillWrieteChapter:C},data:function(){return{chpaterDetails:"",chapter:""}},created:function(){document.title=this.$route.meta.title,this.chapter=JSON.parse(window.sessionStorage.getItem("chapter"))},methods:{writeChapterFinish:function(t){var e=this;Object(c["c"])({courseiid:this.$route.params.cciid,chapteriid:this.chapter.iid,content:t}).then((function(t){200===t.data.status?(e.$refs.quillWriteChapterRef.getChapterContent(),e.$refs.quillWriteChapterRef.restChapterData()):e.$message.error("保存失败")}))},updateChapterFinsh:function(t){var e=this;Object(c["b"])({courseiid:this.$route.params.cciid,chapteriid:this.chapter.iid,updateContent:t}).then((function(t){200===t.data.status?(e.$refs.quillWriteChapterRef.getChapterContent(),e.$refs.quillWriteChapterRef.restChapterData()):e.$message.error("修改失败")}))}}},f=l,m=(i("692b"),Object(u["a"])(f,a,r,!1,null,null,null));e["default"]=m.exports},cf9e:function(t,e,i){"use strict";i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return s}));var a=i("1bab");function r(t){return Object(a["a"])({url:"/chapterContent/createChapterContent",method:"post",data:t})}function n(t){return Object(a["a"])({url:"/chapterContent/getCurentChapterContent",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/chapterContent/updateChapterContent",method:"post",data:t})}}}]);
//# sourceMappingURL=chunk-4d566d08.14da8bf4.js.map