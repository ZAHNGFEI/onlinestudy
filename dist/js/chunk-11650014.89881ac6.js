(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11650014"],{"036a":function(t,e,s){"use strict";var r=s("90b6"),n=s.n(r);n.a},"248f":function(t,e,s){"use strict";var r=s("5fa1"),n=s.n(r);n.a},"534e":function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return u})),s.d(e,"f",(function(){return a})),s.d(e,"c",(function(){return i})),s.d(e,"d",(function(){return o})),s.d(e,"e",(function(){return c}));var r=s("1bab");function n(t){return Object(r["a"])({url:"/Topic/updateTopicToUp",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/Topic/updateTopicToDown",method:"post",data:t})}function a(t){return Object(r["a"])({url:"/user/updateUserPwd",method:"post",data:t})}function i(t){return Object(r["a"])({url:"/course/updateCourseCoverImg",method:"post",data:t})}function o(t){return Object(r["a"])({url:"/course/updateCourseDesc",method:"post",data:t})}function c(t){return Object(r["a"])({url:"/course/updateCourseStatus",method:"post",data:t})}},"5b2f":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"courseMange"}},[s("course-stus-list",{attrs:{"stu-list-data":t.usersList}}),s("course-mange-conent",{attrs:{"mange-course-info":t.currentTecCourseInfo}})],1)},n=[],u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"courseStuList"}},[s("stu-list-conent",{attrs:{"stu-list-conent":t.stuListData}})],1)},a=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"stuListCon"}},[s("h5",{staticClass:"stuNums"},[t._v("学生人数 : "+t._s(t.stuListConent.length))]),s("div",t._l(t.stuListConent,(function(t,e){return s("stu-list-item",{key:e,attrs:{"stu-list-item":t}})})),1)])},o=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"stuListItem"}},[s("div",{staticClass:"userList"},[s("img",{attrs:{src:t.stuListItem.headPic,alt:""}}),s("span",{staticClass:"userName",class:{userNameHidden:t.stuListItem.name.length>6}},[t._v(t._s(t.stuListItem.name))]),s("div",{staticClass:"leaveMessageHover",on:{click:function(e){return t.userClick(t.stuListItem)}}},[t._v("交流")])])])},d=[],l={name:"stuListItem",props:{stuListItem:{type:Object,default:function(){return{}}}},methods:{userClick:function(t){window.sessionStorage.setItem("chatStuInfo",JSON.stringify(t));var e=this.$router.resolve({name:"leaveMessage",params:{siid:t._id,ciid:this.$route.params.cciid}});window.open(e.href,"_blank"),this.$bus.$emit("clickUserTurnMessage")}}},m=l,f=(s("edd5"),s("2877")),p=Object(f["a"])(m,c,d,!1,null,null,null),h=p.exports,C={name:"stuListConent",components:{stuListItem:h},props:{stuListConent:{type:Array,default:function(){return[]}}},methods:{}},g=C,b=(s("8d14"),Object(f["a"])(g,i,o,!1,null,null,null)),v=b.exports,I={name:"courseStusList",components:{stuListConent:v},props:{stuListData:{type:Array,default:function(){return[]}}}},_=I,S=(s("248f"),Object(f["a"])(_,u,a,!1,null,null,null)),O=S.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"mangeConent"}},[s("h3",[t._v("课程管理")]),s("div",{staticClass:"courseMageLine"}),s("div",{staticClass:"courseCoverImg courItem"},[s("p",[t._v("封面:")]),s("div",{staticClass:"updateImg"},[s("up-load",{staticClass:"updateP",attrs:{"up-load-name":t.updateImgName},on:{basePicPath:t.updateCourseCoverPic}}),s("img",{staticClass:"courseImg",attrs:{src:t.mangeCourseInfo.cpic}})],1),s("el-button",{staticClass:"tecAddStuBtn",attrs:{type:"success",size:"mini"},on:{click:t.tecAddStu}},[t._v("添加学生")])],1),s("div",{staticClass:"courseStatus courItem"},[s("p",[t._v("课程状态:")]),s("el-switch",{staticClass:"courseTwoItem",attrs:{"active-text":"允许进入","inactive-text":"不允许进入"},on:{change:function(e){return t.statusChage(t.mangeCourseInfo.cstatus)}},model:{value:t.mangeCourseInfo.cstatus,callback:function(e){t.$set(t.mangeCourseInfo,"cstatus",e)},expression:"mangeCourseInfo.cstatus"}})],1),s("div",{staticClass:"courseTeacher courItem"},[s("p",[t._v("老师:")]),s("p",{staticClass:"courseTwoItem"},[t._v(t._s(t.mangeCourseInfo.cteacher))])]),s("div",{staticClass:"courseName courItem"},[s("p",[t._v("课程:")]),s("span",{staticClass:"courseTwoItem"},[t._v(t._s(t.mangeCourseInfo.ctitle))])]),s("div",{staticClass:"MangeCourseDesc courItem"},[s("span",[t._v("课程简介:")]),s("div",{staticClass:"updateDescInputBtn"},[t.isUpdate?s("p",{staticClass:"courseTwoItem desc",attrs:{title:"修改简介"},on:{click:t.updateBtn}},[t._v(t._s(t.mangeCourseInfo.cdesc))]):t._e(),t.isUpdate?t._e():s("el-input",{staticClass:"courseTwoItem descUpdatwInput",attrs:{type:"textarea",rows:6,placeholder:"请输入内容"},model:{value:t.mangeCourseInfo.cdesc,callback:function(e){t.$set(t.mangeCourseInfo,"cdesc",e)},expression:"mangeCourseInfo.cdesc"}}),s("br"),t.isUpdateSure?s("el-button",{staticClass:"updateDescBtn",attrs:{type:"success",size:"mini"},on:{click:t.sureUpdate}},[t._v("确认")]):t._e(),t.isUpdateSure?s("el-button",{staticClass:"updateDescBtn",attrs:{type:"primary",size:"mini"},on:{click:t.cancleUpdate}},[t._v("取消")]):t._e()],1)]),s("div",{staticClass:"courseIncoe courItem"},[s("p",[t._v("课程邀请码:")]),s("span",{staticClass:"courseTwoItem"},[t._v(t._s(t.mangeCourseInfo.cincode))])]),s("el-dialog",{attrs:{title:"提示",visible:t.tecAdddStudialogVisible,width:"30%"},on:{"update:visible":function(e){t.tecAdddStudialogVisible=e}}},[s("el-form",{ref:"stuRuleFormRef",staticClass:"demo-ruleForm",attrs:{model:t.stuRuleForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"名字",prop:"name"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:t.stuRuleForm.name,callback:function(e){t.$set(t.stuRuleForm,"name",e)},expression:"stuRuleForm.name"}})],1),s("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:t.stuRuleForm.mobile,callback:function(e){t.$set(t.stuRuleForm,"mobile",e)},expression:"stuRuleForm.mobile"}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.tecAdddStudialogVisible=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.sureAddStu}},[t._v("确 定")])],1)],1)],1)},T=[],$=(s("b0c0"),s("534e")),L=s("8d85"),w=s("aab5"),U={name:"courseMangeConent",components:{upLoad:w["a"]},props:{mangeCourseInfo:{type:Object,default:function(){return{}}}},data:function(){var t=function(t,e,s){var r=/^1[34578]\d{9}$$/;if(r.test(e))return s();s(new Error("请输入合法的手机号"))};return{updateImgName:"更换封面",isUpdate:!0,isUpdateSure:!1,tecAdddStudialogVisible:!1,stuRuleForm:{name:"",mobile:""},rules:{name:[{required:!0,message:"请输入学生名字",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号"},{validator:t,trigger:"blur"}]}}},watch:{tecAdddStudialogVisible:function(t,e){t||this.$refs.stuRuleFormRef.resetFields()}},methods:{updateCourseCoverPic:function(t){var e=this,s="http://192.168.1.8:8081/public/img/"+t;Object($["c"])({courseiid:this.mangeCourseInfo._id,teacheriid:this.mangeCourseInfo.cteacheriid,coverImg:s}).then((function(t){200===t.data.status?(e.$parent.queryCurrentTecCourseInfo(),e.$message.success("修改课程封面成功")):e.$message.error("修改课程封面失败")}))},updateBtn:function(){this.isUpdate=!1,this.isUpdateSure=!0},sureUpdate:function(){var t=this;this.isUpdate=!0,this.isUpdateSure=!1,Object($["d"])({courseiid:this.mangeCourseInfo._id,teacheriid:this.mangeCourseInfo.cteacheriid,desc:this.mangeCourseInfo.cdesc}).then((function(e){200===e.data.status?t.$parent.queryCurrentTecCourseInfo():t.$message.error("修改简介失败")}))},cancleUpdate:function(){this.isUpdate=!0,this.isUpdateSure=!1},statusChage:function(t){var e=this;console.log(t),Object($["e"])({courseiid:this.mangeCourseInfo._id,teacheriid:this.mangeCourseInfo.cteacheriid,cstatus:t}).then((function(t){200===t.data.status?e.$parent.queryCurrentTecCourseInfo():e.$message.error("修改失败")}))},tecAddStu:function(){this.tecAdddStudialogVisible=!0},addCurrentCourseStu:function(){var t=this;Object(L["a"])({stuName:this.stuRuleForm.name,mobile:this.stuRuleForm.mobile,courseiid:this.mangeCourseInfo._id,teciid:this.mangeCourseInfo.cteacheriid,coursename:this.mangeCourseInfo.ctitle}).then((function(e){200===e.data.status?(t.tecAdddStudialogVisible=!1,t.$message.success("添加该学生成功"),t.$parent.querStuList()):t.$message.error(e.data.msg)}))},sureAddStu:function(){var t=this;this.$refs.stuRuleFormRef.validate((function(e){e?t.addCurrentCourseStu():t.$message.error("前填写完整")}))}}},y=U,k=(s("9471"),Object(f["a"])(y,j,T,!1,null,null,null)),A=k.exports,R=s("5942"),F={name:"courseMange",components:{courseStusList:O,courseMangeConent:A},data:function(){return{courseTecheriid:{},usersList:[],currentTecCourseInfo:{}}},created:function(){document.title=this.$route.meta.title,this.courseTecheriid=JSON.parse(window.sessionStorage.getItem("currentCourseInfo")),this.querStuList(),this.queryCurrentTecCourseInfo()},methods:{querStuList:function(){var t=this;Object(R["g"])({courseiid:this.courseTecheriid._id,teacheriid:this.courseTecheriid.cteacheriid}).then((function(e){200===e.data.status&&Object(R["p"])({ids:e.data.result}).then((function(e){200===e.data.status&&(console.log(e.data),t.usersList=e.data.result)}))}))},queryCurrentTecCourseInfo:function(){var t=this;Object(R["m"])({teacheriid:this.courseTecheriid.cteacheriid,courseiid:this.courseTecheriid._id}).then((function(e){200===e.data.status?t.currentTecCourseInfo=e.data.result:t.currentTecCourseInfo={}}))}}},x=F,q=(s("036a"),Object(f["a"])(x,r,n,!1,null,null,null));e["default"]=q.exports},"5d2c":function(t,e,s){},"5fa1":function(t,e,s){},"8b4c":function(t,e,s){},"8d14":function(t,e,s){"use strict";var r=s("5d2c"),n=s.n(r);n.a},"8d85":function(t,e,s){"use strict";s("b0c0");function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=s("1bab");function u(t){return Object(n["a"])({url:"/user/register",method:"post",data:t})}function a(t){return Object(n["a"])({url:"/user/tecAddCourseStu",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/course/createCourse",method:"post",data:t})}function o(){return Object(n["a"])({url:"/contact",method:"get"})}function c(t){return Object(n["a"])({url:"/courseStu/enterCourse",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/chapters/addChapter",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/Topic/createTopic",method:"post",data:t})}function m(t){return Object(n["a"])({url:"/Topic/deleteCurrentCourseTopic",method:"post",data:t})}function f(t){return Object(n["a"])({url:"/user/getAllUserSomeInfo",method:"post",data:t})}function p(t){return Object(n["a"])({url:"/user/setUserStatus",method:"post",data:t})}function h(t){return Object(n["a"])({url:"/user/setUserRole",method:"post",data:t})}function C(t){return Object(n["a"])({url:"/user/queryUuserByp",method:"post",data:t})}s.d(e,"i",(function(){return u})),s.d(e,"a",(function(){return a})),s.d(e,"d",(function(){return i})),s.d(e,"g",(function(){return o})),s.d(e,"n",(function(){return c})),s.d(e,"b",(function(){return d})),s.d(e,"c",(function(){return l})),s.d(e,"e",(function(){return m})),s.d(e,"f",(function(){return f})),s.d(e,"l",(function(){return p})),s.d(e,"k",(function(){return h})),s.d(e,"j",(function(){return C})),s.d(e,"h",(function(){return g})),s.d(e,"m",(function(){return b}));var g=function t(e,s){r(this,t),this.cs_title=e.ctitle,this.cs_courseiid=e._id,this.cs_teacheriid=e.cteacheriid,this.cs_teachername=e.cteacher,this.cs_desc=e.cdesc,this.cs_stuiid=s.user_id,this.cs_stuname=s.name},b=function t(e,s){r(this,t),this.courseiid=s._id,this.teacheriid=s.cteacheriid,this.CreateName=e.name,this.pic=e.hpic}},"90b6":function(t,e,s){},9471:function(t,e,s){"use strict";var r=s("f3cc"),n=s.n(r);n.a},aab5:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"upload"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://192.168.1.8:8081/api/upload/uploadPic","show-file-list":!1,"on-success":t.handleAvatarSuccess}},[s("p",[t._v(t._s(t.upLoadName))])])],1)},n=[],u={name:"upLoad",props:{upLoadName:{type:String,default:"默认名称"}},data:function(){return{imageUrl:"",imgq:""}},methods:{handleAvatarSuccess:function(t,e){200===t.status?(this.$emit("basePicPath",t.result.data),this.imageUrl="localhost:8000"+t.result.data,console.log(this.imageUrl)):this.$message.error(t.msg)}}},a=u,i=s("2877"),o=Object(i["a"])(a,r,n,!1,null,null,null);e["a"]=o.exports},b0c0:function(t,e,s){var r=s("83ab"),n=s("9bf2").f,u=Function.prototype,a=u.toString,i=/^\s*function ([^ (]*)/,o="name";!r||o in u||n(u,o,{configurable:!0,get:function(){try{return a.call(this).match(i)[1]}catch(t){return""}}})},edd5:function(t,e,s){"use strict";var r=s("8b4c"),n=s.n(r);n.a},f3cc:function(t,e,s){}}]);
//# sourceMappingURL=chunk-11650014.89881ac6.js.map